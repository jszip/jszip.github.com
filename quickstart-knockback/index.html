<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Feb 24, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.1-SNAPSHOT
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20130224" />
    <meta http-equiv="Content-Language" content="en" />
    <title>JSZip - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.1-SNAPSHOT.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.1-SNAPSHOT.min.js"></script>

    
              <!-- Google Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-25185795-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    </head>
        <body class="topBarEnabled">
          
    
    
            
    
        
    <a href="http://github.com/jszip/jszip-parent">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"
        alt="Fork me on GitHub">
    </a>
  
                        
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                                  <div class="container"><div class="nav-collapse">
            
                
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Main <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../index.html"  title="Welcome">Welcome</a>
</li>
                  
                      <li>      <a href="../quickstart/index.html"  title="Basic Quickstart">Basic Quickstart</a>
</li>
                  
                      <li>      <a href="../quickstart-knockback/index.html"  title="Knockback+Hogan+RequireJS example">Knockback+Hogan+RequireJS example</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Repackaged Modules <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../redist/"  title="About Repackaged Modules">About Repackaged Modules</a>
</li>
                  
                      <li>      <a href="../redist/analytics/"  title="Analytics.js">Analytics.js</a>
</li>
                  
                      <li>      <a href="../redist/angularjs"  title="AngularJS">AngularJS</a>
</li>
                  
                      <li>      <a href="../redist/backbone/"  title="Backbone">Backbone</a>
</li>
                  
                      <li>      <a href="../redist/backbone-modelrev/"  title="Backbone.ModelRef">Backbone.ModelRef</a>
</li>
                  
                      <li>      <a href="../redist/backbone-relational/"  title="Backbone-relational">Backbone-relational</a>
</li>
                  
                      <li>      <a href="../redist/bootstrap/"  title="Bootstrap">Bootstrap</a>
</li>
                  
                      <li>      <a href="../redist/hogan/"  title="Hogan">Hogan</a>
</li>
                  
                      <li>      <a href="../redist/jquery/"  title="jQuery">jQuery</a>
</li>
                  
                      <li>      <a href="../redist/jquery-migrate/"  title="jQuery Migrate">jQuery Migrate</a>
</li>
                  
                      <li>      <a href="../redist/json2/"  title="json2">json2</a>
</li>
                  
                      <li>      <a href="../redist/knockout/"  title="Knockout">Knockout</a>
</li>
                  
                      <li>      <a href="../redist/knockback/"  title="Knockback">Knockback</a>
</li>
                  
                      <li>      <a href="../redist/q"  title="Q">Q</a>
</li>
                  
                      <li>      <a href="../redist/require/"  title="RequireJS">RequireJS</a>
</li>
                  
                      <li>      <a href="../redist/require-domready-plugin/"  title="RequireJS/AMD domReady plugin">RequireJS/AMD domReady plugin</a>
</li>
                  
                      <li>      <a href="../redist/require-i18n-plugin/"  title="RequireJS/AMD I18N plugin">RequireJS/AMD I18N plugin</a>
</li>
                  
                      <li>      <a href="../redist/require-step-plugin/"  title="RequireJS/AMD step plugin">RequireJS/AMD step plugin</a>
</li>
                  
                      <li>      <a href="../redist/require-text-plugin/"  title="RequireJS/AMD Text plugin">RequireJS/AMD Text plugin</a>
</li>
                  
                      <li>      <a href="../redist/underscore/"  title="Underscore.js">Underscore.js</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sub-projects <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="../jszip-maven-plugin"  title="Maven Plugin">Maven Plugin</a>
</li>
                  
                      <li>      <a href="../jszip-parent"  title="jszip.org parent">jszip.org parent</a>
</li>
                          </ul>
      </li>
                      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="../project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="../index.html"  title="About">About</a>
</li>
                                  <li>      <a href="../team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="../dependency-info.html"  title="Dependency Information">Dependency Information</a>
</li>
                                  <li>      <a href="../plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="../integration.html"  title="Continuous Integration">Continuous Integration</a>
</li>
                                  <li>      <a href="../issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="../source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                                  <li>      <a href="../license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="../plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="../distribution-management.html"  title="Distribution Management">Distribution Management</a>
</li>
                                  <li>      <a href="../project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="../mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                                  <li>      <a href="../dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="../project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="../dependency-updates-report.html"  title="Dependency Updates Report">Dependency Updates Report</a>
</li>
                                  <li>      <a href="../plugin-updates-report.html"  title="Plugin Updates Report">Plugin Updates Report</a>
</li>
                                  <li>      <a href="../property-updates-report.html"  title="Property Updates Report">Property Updates Report</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
          
                                                              
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                                  <a href=".././" id="bannerLeft">
                                                                                                <img src="../images/jszip-logo.png"  alt="jszip.org Site"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href=".././" title="JSZip">
        JSZip</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
        
                
                    
                  <li id="publishDate" class="pull-right">Last Published: 2013-02-24</li> <li class="divider pull-right">|</li>
              <li id="projectVersion" class="pull-right">Version: current</li>
            
                            </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            <!-- Copyright 2011-2012 Stephen Connolly.

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License. --><h1>Quickstart Knockback Example</h1><p>If you have completed the very basic <a class="externalLink" href="http://jszip.org/quickstart/">Quickstart</a> you probably are looking for an example that is a little bit more real. </p><p>This next example stitches together an application using the following technologies:</p>
<ul>
  <li><a class="externalLink" href="http://requirejs.org">RequireJS</a> for AMD style module loading</li>
  <li><a class="externalLink" href="http://backbonejs.org">Backbone</a> for RESTful server communication</li>
  <li><a class="externalLink" href="http://knockoutjs.com">Knockout</a> for easy binding between models and the HTML view</li>
  <li><a class="externalLink" href="http://kmalakoff.github.com/knockback/">Knockback</a> to stitch Backbone and Knockout together</li>
  <li><a class="externalLink" href="http://twitter.github.com/hogan.js/">Hogan</a> to render the initial page content</li>
</ul><p>Now you should be warned, this is a somewhat trivial example, but it should give some hints as to how you can leverage the power of the JSZip Maven Plugin toolchain.</p><p>This example was inspired by <a class="externalLink" href="http://stackoverflow.com/questions/12305655/the-simplest-example-of-knockback-js-working-with-a-restful-webservice-such-as-s">Scott Idlers Stack Overflow Answer</a>.</p><div class="section"><h2>Checkout the source code and fire up the application<a name="Checkout_the_source_code_and_fire_up_the_application"></a></h2><p>The source code from this example is available on <a class="externalLink" href="https://github.com/jszip/quickstart-knockback">Github</a>, so check it out to get started</p>
<div class="source"><pre class="prettyprint linenums">$ git clone git://github.com/jszip/jszip-quickstart-knockback.git
$ cd jszip-quickstart-knockback
$ mvn compile jszip:run
</pre></div><p>Alternatively, if you dont have GIT installed (or you might not have a good GIT client if you are running on Windows), you can download a ZIP of the project from the Github page:</p>
<div class="source"><pre class="prettyprint linenums">$ curl -o jszip-quickstart-knockback.zip https://github.com/jszip/jszip-quickstart-knockback/archive/master.zip
$ unzip jszip-quickstart-knockback.zip
$ cd jszip-quickstart-knockback
$ mvn compile jszip:run
</pre></div><p>Point your favourite browser at <a class="externalLink" href="http://localhost:8080/">http://localhost:8080/</a> and you should see the application fire up.</p></div><div class="section"><h2>Interesting features<a name="Interesting_features"></a></h2><div class="section"><h3>The webapp module has been stripped almost bare<a name="The_webapp_module_has_been_stripped_almost_bare"></a></h3><p>Have a look at <tt>webapp/src/main/webapp/index.html</tt></p>
<div class="source"><pre class="prettyprint linenums">&lt;!DOCTYPE html&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;Quickstart Knockback&lt;/title&gt;
    &lt;script src=&quot;json2.js&quot; type=&quot;text/javascript&quot; &gt;&lt;/script&gt;
    &lt;script src=&quot;require.js&quot; type=&quot;text/javascript&quot; data-main=&quot;scripts/main&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div><p>What we are doing here is as follows:</p>
<ol style="list-style-type: decimal">
  <li>We load the JSON polyfill</li>
  <li>We load the RequireJS AMD loader</li>
  <li>The RequireJS AMD loader reads the <tt>data-main</tt> attribute and loads the <tt>scripts/main</tt> module</li>
</ol><p>If we take a look at the <tt>scripts/main.js</tt> file we can see how the page content gets rendered from the Hogan template <tt>scripts/template.html</tt></p><p>First we configure RequireJS with the details of the paths to the different modules, and also provide the AMD shim for Backbone and Underscore:</p>
<div class="source"><pre class="prettyprint linenums">require.config({
    paths:{
        &quot;backbone&quot;:&quot;/backbone&quot;,
        &quot;jquery&quot;:&quot;/jquery&quot;,
        &quot;underscore&quot;:&quot;/underscore&quot;,
        &quot;knockout&quot;:&quot;/knockout&quot;,
        &quot;knockback&quot;:&quot;/knockback&quot;,
        &quot;text&quot;:&quot;/text&quot;,
        &quot;hogan&quot;:&quot;/hogan&quot;,
        &quot;domReady&quot;:&quot;/domReady&quot;
    },
    shim:{
        &quot;underscore&quot;:{
            exports:&quot;_&quot;
        },
        &quot;backbone&quot;:{
            'deps':['underscore', 'jquery'],
            exports:&quot;Backbone&quot;
        }
    }
});
</pre></div><p>Then we fire up the application</p>
<div class="source"><pre class="prettyprint linenums">require([&quot;backbone&quot;, &quot;jquery&quot;, &quot;underscore&quot;, &quot;knockout&quot;, &quot;knockback&quot;, &quot;domReady&quot;, &quot;hogan&quot;, &quot;text!template.html&quot;],
        function (Backbone, $, _, ko, kb, domready, Hogan, template) {
</pre></div><p>We define the Model and ViewModel classes</p>
<div class="source"><pre class="prettyprint linenums">            //model
            var PersonModel = Backbone.Model.extend({ urlRoot:'/api/persons' });

            //viewmodel
            var PersonViewModel = function (person) {

                this.firstName = kb.observable(person, 'firstName');
                this.lastName = kb.observable(person, 'lastName');
                this.fullName = ko.computed((function () {
                    return &quot;&quot; + (this.firstName()) + &quot; &quot; + (this.lastName());
                }), this);
            };

            //model
            var PersonsModel = Backbone.Collection.extend({ model:PersonModel, url:'/api/persons' });

            //viewmodel
            var PersonsViewModel = function (persons) {
                this.persons = kb.collectionObservable(persons)
            };
</pre></div><p>We compile the template which has been loaded for us by RequireJSs text plugin</p>
<div class="source"><pre class="prettyprint linenums">            var compiledTemplate = Hogan.compile(template);
            var templateContext = { appName:&quot;QuickStart Knockback&quot;};
            var templatePartials = {};
</pre></div><p>When the DOM is ready</p>
<div class="source"><pre class="prettyprint linenums">            domready(function () {
</pre></div><p>Inject the rendered template into the DOM</p>
<div class="source"><pre class="prettyprint linenums">                $('body').append(compiledTemplate.render(templateContext, templatePartials));
</pre></div><p>Finally load each of the models, and when they are loaded, bind them to the DOM</p>
<div class="source"><pre class="prettyprint linenums">                var model = new PersonModel({ id:1 });
                var personViewModel = new PersonViewModel(model);
                model.fetch().done(function () {
                    //binding
                    ko.applyBindings(personViewModel, $('#kb_observable')[0]);
                });


                var personsModel = new PersonsModel();
                var personsViewModel = new PersonsViewModel(personsModel);
                personsModel.fetch().done(function () {
                    //binding
                    ko.applyBindings(personsViewModel, $('#kb_collection_observable')[0]);
                });
            });

        });
</pre></div></div><div class="section"><h3>Live development<a name="Live_development"></a></h3><p>Live development is as before, but now that we are using dependencies from outside the reactor we can change those dependency versions and have them downloaded and swapped in. For instance the example is pulling in the transitive dependency <tt>org.jszip.redist:underscore:1.3.3</tt> as that is the minimum required version. If you want you can add the following dependency to <tt>client/pom.xml</tt></p>
<div class="source"><pre class="prettyprint linenums">&lt;dependency&gt;
  &lt;groupId&gt;org.jszip.redist&lt;/groupId&gt;
  &lt;artifactId&gt;underscore&lt;/artifactId&gt;
  &lt;version&gt;1.4.2&lt;/version&gt;
  &lt;type&gt;jszip&lt;/type&gt;
&lt;/dependency&gt;
</pre></div><p>Then you will see something like this on the command line where <tt>mvn compile jszip:run</tt> is active after you save the changes to the pom.xml</p>
<div class="source"><pre class="prettyprint linenums">[INFO] Context started. Will restart if changes to poms detected.
[INFO] Change in poms detected, re-parsing to evaluate impact...
Downloading: http://repo1.maven.org/maven2/org/jszip/redist/underscore/1.4.2/underscore-1.4.2.pom
Downloaded: http://repo1.maven.org/maven2/org/jszip/redist/underscore/1.4.2/underscore-1.4.2.pom (4 KB at 1.4 KB/sec)
Downloading: http://repo1.maven.org/maven2/org/jszip/redist/underscore/1.4.2/underscore-1.4.2.zip
Downloaded: http://repo1.maven.org/maven2/org/jszip/redist/underscore/1.4.2/underscore-1.4.2.zip (14 KB at 30.6 KB/sec)
[INFO] Dependency tree of localhost:quickstart-client:jszip:1.0-SNAPSHOT has been modified
[INFO] Effective overlays of localhost:quickstart-webapp:war:1.0-SNAPSHOT have changed.
[INFO] Overlay modules of localhost:quickstart-webapp:war:1.0-SNAPSHOT have changed.
[INFO] Restarting context to take account of changes...
...
...
...
[INFO] Context restarted.
</pre></div><p>And now if you reload your browser and in the browsers JavaScript console you type:</p>
<div class="source"><pre class="prettyprint linenums">require(&quot;underscore&quot;).VERSION
</pre></div><p>You should see</p>
<div class="source"><pre class="prettyprint linenums">1.4.2
</pre></div><p>Remove the dependency and reload the browser window and your JavaScript console should now give</p>
<div class="source"><pre class="prettyprint linenums">&gt; require(&quot;underscore&quot;).VERSION
1.3.3
</pre></div></div></div>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
              <div class="row span12">Copyright &copy;                   2012-2013.
          All Rights Reserved.      
                    
      </div>

        
                <p id="poweredBy" class="pull-right">
                                                                                                                      <a href="http://maven.apache.org/" title="Built by Maven" class="builtBy">
        <img class="builtBy"  alt="Built by Maven" src="../jszip-parent/images/logos/maven-feather.png"    />
      </a>
                                                                                                          <a href="https://jszip.ci.cloudbees.com/" title="Built on CloudBees" class="builtBy">
        <img class="builtBy"  alt="Built on CloudBees" src="../images/built-on-cloudbees.png"    />
      </a>
                  </p>
        
                </div>
    </footer>
  </body>
</html>
